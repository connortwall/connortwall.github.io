<!DOCTYPE HTML>
<!--suppress ALL -->
<html lang="en">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-48NR9YM9PH"></script>
    <script>
        window.dataLayer = window.dataLayer || [];

        function gtag() {
            dataLayer.push(arguments);
        }

        gtag('js', new Date());

        gtag('config', 'G-48NR9YM9PH');
    </script>
    <title>Connor Wall Portfolio - Roboleon Game</title>
    <meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no"/>
    <link rel="stylesheet" href="assets/css/main.css"/>
    <link rel="stylesheet" href="assets/css/tomorrow-night.min.css">
    <link rel="stylesheet" href="assets/css/sunburst.css">
    <script src="https://cdn.jsdelivr.net/gh/google/code-prettify@master/loader/run_prettify.js"></script>
    <noscript>
        <link rel="stylesheet" href="assets/css/noscript.css"/>
    </noscript>
</head>
<body class="is-preload">

<!-- Wrapper -->
<div id="wrapper">

    <!-- Header -->
    <header id="header" class="alt">
        <a href="index.html" class="logo"><strong>Connor Wall</strong> <span>Portfolio</span></a>
        <nav>
            <a href="#menu">Menu</a>
        </nav>
    </header>

    <!-- Menu -->
    <nav id="menu">
        <ul class="actions stacked">
            <li><a href="index.html" class="button fit">Home</a></li>
        </ul>
        <ul class="links">
            <li><a href="gamedesign.html"><span class="icon solid fas fa-dice major"></span> Game Design <span
                    class="icon solid fas fa-dice major"></span></a></li>
            <li><a href="writtenwork.html"><span class="icon solid fas fa-pencil-alt major style1"></span> Written Work
                <span class="icon solid fas fa-pencil-alt major style1"></span></a></li>
            <li><a href="coding.html"><span class="icon solid fas fa-code major style1"></span> Coding <span
                    class="icon solid fas fa-code major style1"></span></a></li>
            <li><a href="visualdesign.html"><span class="icon solid fas fa-pen-fancy major style1"></span> Visual Art
                <span class="icon solid fas fa-pen-fancy major style1"></span></a></li>

        </ul>
        <ul class="actions stacked">
            <li><a href="CV.html" class="button primary fit icon solid fa-clipboard-list">
										<span style="color: #B664B0; background-image: linear-gradient(135deg, #6699FF 0%, #FF3366 100%);
										 -webkit-background-clip: text; -webkit-text-fill-color:transparent; -webkit-box-decoration-break: clone;
										background-repeat: no-repeat;">CV<span class="label"></span>
										</span>
            </a></li>
        </ul>
        <ul class="icons">
            <li><a href="https://github.com/connortwall" class="icon brands alt fa-github"><span
                    class="label">GitHub</span></a></li>
            <li><a href="https://www.linkedin.com/in/connortwall/" class="icon brands alt fa-linkedin-in"><span
                    class="label">LinkedIn</span></a></li>
            <li><a href="https://connorthewall.itch.io" class="icon solid alt fa-gamepad"><span
                    class="label">Itch.io</span></a></li>
        </ul>
    </nav>

    <!-- Main -->
    <section id="banner" class="major">
        <!-- Title -->
        <div class="inner">
                    <span class="image">
                        <img src="uploads/ConnorWall_Portfolio/Game_Design/Roboleon/logo-reduced.jpg" alt=""/></span>
            <header class="major">
                <h2>
										<span style="font-size: 150%;">
											Roboleon
										</span>
                </h2>
            </header>
            <ul class="actions special" style="flex-direction: row; flex-wrap: wrap">
                <li><a href="https://dadiu.itch.io/roboleon" class="button icon solid fa-gamepad">Download</a></li>
                <li><a href="https://github.com/connortwall/Roboleon-Game" class="button icon solid brands fa-github">Github</a>
                </li>
                <li><a href="uploads/ConnorWall_Portfolio/Game_Design/Roboleon/Technical%20Design%20Document.pdf"
                       class="button icon solid primary fa-clipboard-list">Technical Presentation</a></li>
            </ul>

        </div>
    </section>
    <div id="main" class="alt">
        <!-- Intro -->
        <section id="intro">
            <div class="inner">
                <header class="major">
                    <h1>Intro</h1>
                </header>
                <p style="font-size: 150%">I wrote narrative and programmed a 3rd-person dark, comedic, narrative puzzle
                    game about a robot alone in space (Unity's HDRP) — working on a team of 19 members.</p>
                <div style="padding:56.25% 0 0 0;position:relative;">
                    <iframe src="https://player.vimeo.com/video/777125803?h=33fa2df818&autoplay=1&loop=1"
                            style="position:absolute;top:0;left:0;width:100%;height:100%;"
                            allow="autoplay; fullscreen; picture-in-picture" allowfullscreen></iframe>
                </div>
                <script src="https://player.vimeo.com/api/player.js"></script>
                <br>
                <p style="font-size: 150%">
                    My primary technical contributions were design and implementation of UI, localization, save-load
                    system,
                    procedural obstacle generation, player movement, and cinematics.
                </p>
            </div>
        </section>

        <!-- Game Summary -->
        <section id="game-summary">
            <div class="inner">
                <header class="major">
                    <h1>Game Summary</h1>
                </header>

                <p><img src="uploads/ConnorWall_Portfolio/Game_Design/Roboleon/Onepager.Final.png"
                        width="100%;"></p>
            </div>
        </section>

        <!-- Gameplay -->
        <section id="gameplay">
            <div class="inner">
                <header class="major">
                    <h1>Gameplay</h1>
                </header>
                <p>I worked alongside a visual designer to implement 3D holograms for the intro menu and 2D designs into the in-game menu.
                    To create a more immersive UX experince for the player as they first enter the game we decided to integrate both a 3D and 2D UI.
                    It was challenging to work with an animated 3D asset that changes dynamicaly to players menu selection.
                    I had to pair the changing rotating hologram functionality with the menu selection and load a new scene after the game had started.
                <p><img src="uploads/ConnorWall_Portfolio/Game_Design/Roboleon/UX/MainMenu.gif"
                        width="100%;"></img></p>
                    In-game, I continued with this visual designer to integrate a constant 2D UI that displays current task, direction of task, and current tool.
                    I also implemented a pause menu and replayable audiolog menu to help the player replay the audio information they may decide to collect.
                </p>
                <img src="uploads/ConnorWall_Portfolio/Game_Design/Roboleon/DADIU_2022_Team3_DesignPresentation.png"
                     width="100%;">
                <p>Below is the UI for the pause menu with functionality to change language and sound. I coded the
                    language change functionality
                    by creating an array of languages that could be exchanged upon language selection confirmation. GUI
                    elements include:
                    current objective arrow direction pointer, task objectives (in text), current tail attachment
                    (symbol), replayable audio log menu (collected + uncollected)</p>
                <p><img src="uploads/ConnorWall_Portfolio/Game_Design/Roboleon/gifs/GG_ChangeLanguage.gif"
                        width="100%;"></img></p>
                <p>Below is the starting level of the game where the player finds an introductory audio log to the
                    central
                    narrative and can experiment with buttons to open the door to the next level. I iterated on the
                    button puzzle location and
                    spacing in the intro location to improve player accessibility and encourage exploration.</p>
                <p><img src="uploads/ConnorWall_Portfolio/Game_Design/Roboleon/gifs/GG_attachmentSwitch.gif"
                        width="100%;"></img></p>
                <p>Below is a central platforming puzzle that uses a tail attachment to move obstacles and the novel
                    movement system to navigate the spaceship's cargo bay. I tested the tail attachment controls to
                    iterate on ideal
                    obstacle size and placement to adjust difficulty.</p>
                <p><img src="uploads/ConnorWall_Portfolio/Game_Design/Roboleon/gifs/GG_jumpingInCargoBay.gif"
                        width="100%;"></img></p>

                <ul class="actions" style="flex-direction: row; flex-wrap: wrap">
                    <li><a href="https://dadiu.itch.io/roboleon" class="button icon solid fa-gamepad">Download</a></li>
                    <li><a href="https://github.com/connortwall/Roboleon-Game"
                           class="button icon solid brands fa-github">Github</a></li>
                    <li><a href="uploads/ConnorWall_Portfolio/Game_Design/Roboleon/Technical%20Design%20Document.pdf"
                           class="button icon solid primary fa-clipboard-list">Technical Presentation</a></li>

                </ul>
            </div>
        </section>

        <!-- Project Description -->
        <section class="pp-contents">
            <div class="inner">
                <header class="major">
                    <h1>Project Contributions (Click)</h1>
                </header>


                <!-- Game Programming -->
                <div class="accordion">
                    <i class="fas fa-code" aria-hidden="true"></i>
                    <span style="margin-left: 5px;"><b>Game UX and Programming</b></span>
                    <div class="accordion-icon">
                        <i class="fa fa-times" aria-hidden="true"></i>
                    </div>
                </div>
                <div class="accordion-inner">
                    <!-- UI -->
                    <div class="accordion">
                        <i class="fas fa-mouse-pointer" aria-hidden="true"></i>
                        <span style="margin-left: 5px;">User Interface</span>
                        <div class="accordion-icon">
                            <i class="fa fa-times" aria-hidden="true"></i>
                        </div>
                    </div>
                    <div class="accordion-inner">
                        <img src="uploads/ConnorWall_Portfolio/Game_Design/Roboleon/technicaldocument/DADIU_2022_Team3_TechnicalDesignPresentation10.png"
                             width="100%;">
                        <img src="uploads/ConnorWall_Portfolio/Game_Design/Roboleon/technicaldocument/DADIU_2022_Team3_TechnicalDesignPresentation11.png"
                             width="100%;">
                    </div>

                    <!-- Save Load -->
                    <div class="accordion">
                        <i class="fas fa-paste" aria-hidden="true"></i>
                        <span style="margin-left: 5px;">Save - Load System</span>
                        <div class="accordion-icon">
                            <i class="fa fa-times" aria-hidden="true"></i>
                        </div>
                    </div>
                    <div class="accordion-inner">
                        <p>I developed a Save - Load system with a manager and saveable interface.</p>
                        <img src="uploads/ConnorWall_Portfolio/Game_Design/Roboleon/technicaldocument/DADIU_2022_Team3_TechnicalDesignPresentation7.png"
                             width="100%;">
                        <div class="accordion">
                            <i class="fa fa-code" aria-hidden="true"></i>
                            <span style="margin-left: 5px;">CODE SNIPPET - Save Load</span>
                            <div class="accordion-icon">
                                <i class="fa fa-times" aria-hidden="true"></i>
                            </div>
                        </div>
                        <div class="accordion-inner">
                            <p>The following code demonstrates the manager code used to save game data</p>
                            <pre class="prettyprint lang-csharp">

// This class keeps track of current state of game data, organizes save and load logic
public class SaveableManager : MonoBehaviour
{
    [Header("Debugging")]
    [SerializeField] private bool disableDataPersistence = false;
    private bool initializeDataIfNull = true;
    public bool printDebugs = false;

    private string fileName = "SaveData.json";
    private bool useEncryption = false;

    [Header("Auto Saving Configuration")] [SerializeField]
    private float autoSaveTimeSeconds = 60f;
    public bool enableAutoSave = false;

    [HideInInspector]
    private Coroutine autoSaveCoroutine;

    // need a data handler to save game
    [HideInInspector]
    private FileDataHandler dataHandler;
    // list of saveable objects
    [HideInInspector]
    private List<ISaveable> dataPersistenceObjects;
    [HideInInspector]
    private GameData gameData;
    [HideInInspector]
    private string selectedProfileId = null;
    private string defaultProfileName = "SavedGame";



    // only want one SaveableManager in scene (Singleton), can get instance publically but only modify it here
    public static SaveableManager instance { get; private set; }

    public void StartSM()
    {
        // if there is an instance of this class error
        if (instance != null)
        {
            printMsg("Found more than one Data Persistence Manager in the scene. Destroying the newest one.");
            Destroy(gameObject);
            return;
        }

        instance = this;
        //DontDestroyOnLoad(gameObject);

        if (disableDataPersistence) Debug.LogWarning("Data Persistence is currently disabled!");

        dataHandler = new FileDataHandler(Application.persistentDataPath, fileName, useEncryption);

        InitializeSelectedProfileId();
    }

    private void UpdateSM()
    {
        if (Input.GetKeyDown(KeyCode.Space))
        {
            printMsg("Saving Game ");
            SaveGame();
        }

        if (Input.GetKeyDown(KeyCode.L))
        {
            printMsg("Loading Game ");
            LoadGame();
        }

        if (Input.GetKeyDown(KeyCode.N))
        {
            printMsg("New Game ");
            NewGame();
        }

        if (Input.GetKeyDown(KeyCode.P)) printMsg(JsonUtility.ToJson(gameData));
    }

    private void OnEnable()
    {
        SceneManager.sceneLoaded += OnSceneLoaded;
    }

    private void OnDisable()
    {
        SceneManager.sceneLoaded -= OnSceneLoaded;
    }

    private void OnApplicationQuit()
    {
        //SaveGame();
    }

    public void OnSceneLoaded(Scene scene, LoadSceneMode mode)
    {
        dataPersistenceObjects = FindAllDataPersistenceObjects();
        //LoadGame();

        // start up the auto saving coroutine
        if (!enableAutoSave) return;
        if (autoSaveCoroutine != null) StopCoroutine(autoSaveCoroutine);
        autoSaveCoroutine = StartCoroutine(AutoSave());
    }

    public void ChangeSelectedProfileId(string newProfileId)
    {
        // update the profile to use for saving and loading
        selectedProfileId = newProfileId;
        // load the game, which will use that profile, updating our game data accordingly
        LoadGame();
    }

    public bool CanLoadGame(){
        // return if data persistence is disabled
        if (disableDataPersistence) return false;

        // load any saved data from a file using the data handler
        gameData = dataHandler.Load(selectedProfileId);

        // check if game data actually exits
        if (gameData != null) return true;
        else return false;
    }

    public void DeleteProfileData(string profileId)
    {
        // delete the data for this profile id
        dataHandler.Delete(profileId);
        // initialize the selected profile id
        InitializeSelectedProfileId();
        // reload the game so that our data matches the newly selected profile id
        LoadGame();
    }

    private void InitializeSelectedProfileId()
    {
        selectedProfileId = dataHandler.GetMostRecentlyUpdatedProfileId();
        if (string.IsNullOrWhiteSpace(selectedProfileId)){
            selectedProfileId = defaultProfileName;
        }
    }

    // create new GameData object
    public void NewGame()
    {
        gameData = new GameData();
    }

    // loads game by passing each object in the ISaveable interface and calling its LoadData function in its script from GameData
    public bool LoadGame()
    {
        // return if data persistence is disabled
        if (disableDataPersistence) return false;

        // load any saved data from a file using the data handler
        gameData = dataHandler.Load(selectedProfileId);

        // start a new game if the data is null and we're configured to initialize data for debugging purposes


        // if no data can be loaded, stop
        if (gameData == null){
            if (initializeDataIfNull){
                NewGame();
                printMsg("GameData was null; New Game created");
            }
            else {
                printMsg("Error loading:No data was found. A New Game needs to be started before data can be loaded.");
                return false;
            }
        }

        //update list of objects in the scene
        dataPersistenceObjects = FindAllDataPersistenceObjects();
        if (dataPersistenceObjects == null){
            printMsg("Error loading: there are no data persistence objects in scene");
            return false;
        }
        // push the loaded data to all other scripts that need it
        foreach (var dataPersistenceObj in dataPersistenceObjects)
        {
            dataPersistenceObj.LoadData(gameData);
        }

        printMsg("Loading game from disk completed.");
        return true;
    }


    // saves game by passing each object in the ISaveable interface and calling its SaveData function in its script
    // these scripts modify GameData object
    public void SaveGame()
    {
        // return right away if data persistence is disabled
        if (disableDataPersistence) return;

        // if we don't have any data to save, log a warning here
        if (gameData == null)
        {
            if (initializeDataIfNull){
                printMsg("No save data found, creating a new game");
                NewGame();
            }
            else {
                Debug.LogWarning("No data was found. A New Game needs to be started before data can be saved.");
                return;
            }
        }


        // load in new objects from scene to be saved
        dataPersistenceObjects = FindAllDataPersistenceObjects();
        gameData.savedGameManagerData.Clear();
        gameData.savedScrewPanelData.Clear();

        // pass the data to other scripts so they can update it
        foreach (var dataPersistenceObj in dataPersistenceObjects)
        {
            dataPersistenceObj.SaveData(gameData);
        }

        //printMsg("Game Saved");

        // timestamp the data so we know when it was last saved
        gameData.lastUpdated = DateTime.Now.ToBinary();

        // save that data to a file using data handler
        dataHandler.Save(gameData, selectedProfileId);
    }


    private List<ISaveable> FindAllDataPersistenceObjects()
    {
        // FindObjectsofType takes in an optional boolean to include inactive gameobjects
        // must extend from monobehavior to function to search completely for all objects in IEnumerable
        var dataPersistenceObjects = FindObjectsOfType<MonoBehaviour>(true)
            .OfType<ISaveable>();

        return new List<ISaveable>(dataPersistenceObjects);
    }

    public bool HasGameData()
    {
        return gameData != null;
    }

    public Dictionary<string, GameData> GetAllProfilesGameData()
    {
        return dataHandler.LoadAllProfiles();
    }

    private IEnumerator AutoSave()
    {
        while (true)
        {
            yield return new WaitForSeconds(autoSaveTimeSeconds);
            SaveGame();
            printMsg("Auto Saved Game");
        }
    }

    public void printMsg(string msg){
        if (!printDebugs) return;
        Debug.Log(msg);
    }
}</pre>
                        </div>
                        <div class="accordion-inner">
                            <p><img src="uploads/ConnorWall_Portfolio/Game_Design/Roboleon/gifs/GG_puttingOutFire.gif"
                                    style="font-style:normal;font-weight:normal;font-size:15px;font-family:Arial, 'Helvetica Neue', Helvetica, Tahoma, sans-serif;vertical-align:middle;height:auto;background-color:rgb(255,255,255);"/><img>
                                <!--src="http://hugo.fyi/assets/statemachine3.png" alt="statemachine3.png#asset:38"
                                style="font-style:normal;font-weight:normal;font-size:15px;font-family:Arial, 'Helvetica Neue', Helvetica, Tahoma, sans-serif;vertical-align:middle;height:auto;background-color:rgb(255,255,255);"/>-->
                            </p>
                        </div>
                    </div>

                    <!-- Procedural Content -->
                    <div class="accordion">
                        <i class="fas fa-random" aria-hidden="true"></i>
                        <span style="margin-left: 5px;">Procedural Obstacle Generation</span>
                        <div class="accordion-icon">
                            <i class="fa fa-times" aria-hidden="true"></i>
                        </div>
                    </div>
                    <div class="accordion-inner">
                        <p>I developed a procedural object spawner using Poisson Disk Sampling.</p>
                        <img src="uploads/ConnorWall_Portfolio/Game_Design/Roboleon/technicaldocument/DADIU_2022_Team3_TechnicalDesignPresentation8.png"
                             width="100%;">
                        <div class="accordion">
                            <i class="fa fa-code" aria-hidden="true"></i>
                            <span style="margin-left: 5px;">CODE SNIPPET - Procedural Fire Spawning</span>
                            <div class="accordion-icon">
                                <i class="fa fa-times" aria-hidden="true"></i>
                            </div>
                        </div>
                        <div class="accordion-inner">
                            <p>The following code demonstrates the algorithm used to spawn game objects in the game
                                scene</p>
                            <pre class="prettyprint lang-csharp">

public class FireSpawner : MonoBehaviour
{

    [Header("Fire Prefabs to use")]
    public List<GameObject> firePrefabs;
    [Header("Tuning")]
    public Vector2 zone = Vector2.one;
    public float spaceBetweenFires = 1;
    public float prefabScale = 1;
    private int k = 2;
    private List<Vector2> samples;

    public List<GameObject> StartFire()
    {
        List<GameObject> fireObjects = new List<GameObject>();
        samples = Poisson.GeneratePoint(spaceBetweenFires, zone, k);
        if(samples != null)
        {
            int index;
            foreach(Vector2 sample in samples)
            {

                //instantiate fire
                index = Random.Range(0, firePrefabs.Count);
                GameObject fire = Instantiate(firePrefabs[index], new Vector3(sample.x, 0, sample.y)+transform.position, Quaternion.identity)as GameObject;
                Assert.IsNotNull(fire.GetComponent<FireObject>());
                fire.transform.Rotate(0, Random.Range(0, 360), 0);
                fire.transform.localScale = Vector3.one * prefabScale;
                //add fire to fire list
                fireObjects.Add(fire);
            }
        }
        // if by chance no fires are added to the scene in each sample (i.e count = 0) spawn a fire in the middle of the hub
        if (fireObjects.Count <= 0)
        {
            // instantiate fire in middle of fire spawner zone
            GameObject fire = Instantiate(firePrefabs[0], new Vector3(zone.x/2, 0, zone.y/2)+transform.position, Quaternion.identity)as GameObject;
            fireObjects.Add(fire);
        }

        if (fireObjects.Count > 0) return fireObjects;
        else return null;
    }

    private void OnDrawGizmos()
    {
        Gizmos.color = Color.yellow;
        Gizmos.DrawWireCube((new Vector3(zone.x, 0, zone.y) / 2)+transform.position, new Vector3(zone.x, 0, zone.y));

    }

}
                        </pre>
                            <p>The following code is part of procedural algortihm itself:</p>
                            <pre class="prettyprint lang-csharp">

    public static List<Vector2> GeneratePoint(float radius, Vector2 grid_size, int numSamplesBeforeRejection  = 30)
    {
        // find the size of a cell's square
        float cell_size = radius / Mathf.Sqrt(2);

        // number of times the cell size fits into sample region size, for each cell
        // grid will tell us for each cell, what the index is of each point, (0 means no point, 1 has index 0)
        // to get the number of columns divide the width / cell_size and rows
        int[,] grid = new int[Mathf.CeilToInt(grid_size.x / cell_size), Mathf.CeilToInt(grid_size.y / cell_size)];

        // create new vectors of sample candidate points
        List<Vector2> samples = new List<Vector2>();
        List<Vector2> spawn_samples = new List<Vector2>();

        // create spawn point list
        spawn_samples.Add(grid_size / 2);
        // while spawn point list is not empty
        while (spawn_samples.Count > 0)
        {
            int index = Random.Range(0, spawn_samples.Count);
            Vector2 current_spawn_sample = spawn_samples[index];
            bool rejected_sample = true;
            for (int i = 0; i < numSamplesBeforeRejection; i++)
            {
                // angle of candidate point
                float angle_offset = Random.value * Mathf.PI * 2;
                //rotate a vector at a given angle
                float x = Mathf.Sin(angle_offset);
                float y = Mathf.Cos(angle_offset);

                Vector2 offset_direction = new Vector2(x, y);

                // new magnitude
                // radius is min so that candidate is spawned outside spawn center
                float new_magnitude = Random.Range(radius, 2 * radius);
                offset_direction *= new_magnitude;

                // assign info to sample
                Vector2 sample = current_spawn_sample + offset_direction;
                if (is_valid(samples, grid, sample, grid_size, radius, cell_size))
                {
                    // add sample to point list
                    samples.Add(sample);
                    // add sample as new spawn point
                    spawn_samples.Add(sample);
                    // record which cell the sample point ends up in
                    grid[(int)(sample.x / cell_size), (int)(sample.y / cell_size)] = samples.Count;
                    rejected_sample = false;
                    break;
                }
            }

            // if not accepted remove from spawn point list
            if (rejected_sample)
            {
                spawn_samples.RemoveAt(index);
            }
        }
        return samples;
    }</pre>
                        </div>
                        <div class="accordion-inner">
                            <p><img src="uploads/ConnorWall_Portfolio/Game_Design/Roboleon/gifs/GG_puttingOutFire.gif"
                                    style="font-style:normal;font-weight:normal;font-size:15px;font-family:Arial, 'Helvetica Neue', Helvetica, Tahoma, sans-serif;vertical-align:middle;height:auto;background-color:rgb(255,255,255);">
                                <!--src="http://hugo.fyi/assets/statemachine3.png" alt="statemachine3.png#asset:38"
                                style="font-style:normal;font-weight:normal;font-size:15px;font-family:Arial, 'Helvetica Neue', Helvetica, Tahoma, sans-serif;vertical-align:middle;height:auto;background-color:rgb(255,255,255);"/>-->
                            </p>
                        </div>
                    </div>

                    <!-- Localization -->
                    <div class="accordion">
                        <i class="fas fa-language" aria-hidden="true"></i>
                        <span style="margin-left: 5px;">Localization</span>
                        <div class="accordion-icon">
                            <i class="fa fa-times" aria-hidden="true"></i>
                        </div>
                    </div>
                    <div class="accordion-inner">
                        <img src="uploads/ConnorWall_Portfolio/Game_Design/Roboleon/technicaldocument/DADIU_2022_Team3_TechnicalDesignPresentation9.png"
                             width="100%;">
                    </div>

                    <!-- Player Movement -->
                    <div class="accordion">
                        <i class="fas fa-walking" aria-hidden="true"></i>
                        <span style="margin-left: 5px;">Player Movement</span>
                        <div class="accordion-icon">
                            <i class="fa fa-times" aria-hidden="true"></i>
                        </div>
                    </div>
                    <div class="accordion-inner">
                        <img src="uploads/ConnorWall_Portfolio/Game_Design/Roboleon/technicaldocument/DADIU_2022_Team3_TechnicalDesignPresentation5.png"
                             width="100%;">
                    </div>

                    <!-- Cinematics -->
                    <div class="accordion">
                        <i class="fas fa-film" aria-hidden="true"></i>
                        <span style="margin-left: 5px;">Cinematics</span>
                        <div class="accordion-icon">
                            <i class="fa fa-times" aria-hidden="true"></i>
                        </div>
                    </div>
                    <div class="accordion-inner">
                        <img src="uploads/ConnorWall_Portfolio/Game_Design/Roboleon/technicaldocument/DADIU_2022_Team3_TechnicalDesignPresentation12.png"
                             width="100%;">
                    </div>


                </div>

                <!-- Narrative -->
                <div class="accordion">
                    <i class="fas fa-book-open" aria-hidden="true"></i>
                    <span style="margin-left: 5px;"><b>Narrative Design</b></span>
                    <div class="accordion-icon">
                        <i class="fa fa-times" aria-hidden="true"></i>
                    </div>
                </div>
                <div class="accordion-inner">
                    <p>I co-wrote a linear narrative with a branching final ethical dilemma following a cute, solitary
                        robot
                        in an indie scifi puzzle exploration game.
                        I wrote the central <b>AI dialogue, character bios, audio logs, narration, and an overarching
                            plot</b> to build up an ethical choice for the player.
                        Details about this world are revealed through the AI's dialogue with the player and the crew
                        member
                        audio logs the player collects. </p>

                    <!-- Narrative Vision-->
                    <div class="accordion">
                        <i class="fas fa-pen-nib" aria-hidden="true"></i>
                        <span style="margin-left: 5px;">Narrative Vision</span>
                        <div class="accordion-icon">
                            <i class="fa fa-times" aria-hidden="true"></i>
                        </div>

                    </div>

                    <div class="accordion-inner">
                        <p>I focused on bringing the playable character —a reptilian robot— to life.
                            Working with the game director, I built a world around an alien reptilian species.</p>

                        <p>
                            <iframe src="uploads/ConnorWall_Portfolio/Game_Design/Roboleon/Narrative/RoboleonGameNarrativeDesign.pdf"
                                    width="100%" height="600px"></iframe>
                        </p>
                    </div>

                    <!-- Narrative Design Documentaion-->
                    <div class="accordion">
                        <i class="fas fa-address-card" aria-hidden="true"></i>
                        <span style="margin-left: 5px;">Narrative Design Documentation</span>
                        <div class="accordion-icon">
                            <i class="fa fa-times" aria-hidden="true"></i>
                        </div>
                    </div>
                    <div class="accordion-inner">
                        <p>
                            <img src="uploads/ConnorWall_Portfolio/Game_Design/Roboleon/Screenshot%202022-12-05%20at%2001.47.53.png"
                                 width="100%;">
                            <iframe src="uploads/ConnorWall_Portfolio/Game_Design/Roboleon/Narrative/NarrativeArea.jpg"
                                    width="100%" height="600px"></iframe>
                        </p>
                    </div>

                    <!-- Beatboard -->
                    <div class="accordion">
                        <i class="fas fa-clock" aria-hidden="true"></i>
                        <span style="margin-left: 5px;">Beatboard</span>
                        <div class="accordion-icon">
                            <i class="fa fa-times" aria-hidden="true"></i>
                        </div>
                    </div>
                    <div class="accordion-inner">
                        <p>
                            <iframe src="uploads/ConnorWall_Portfolio/Game_Design/Roboleon/Narrative/Beatboard.jpg"
                                    width="100%" height="600px"></iframe>
                        </p>
                    </div>

                    <!-- AI -->
                    <div class="accordion">
                        <i class="fas fa-book-reader" aria-hidden="true"></i>
                        <span style="margin-left: 5px;">AI Core Script</span>
                        <div class="accordion-icon">
                            <i class="fa fa-times" aria-hidden="true"></i>
                        </div>
                    </div>
                    <div class="accordion-inner">
                        <p>
                            <iframe src="uploads/ConnorWall_Portfolio/Game_Design/Roboleon/Narrative/RoboleonAIVoicelines.pdf"
                                    width="100%" height="600px"></iframe>
                        </p>
                    </div>

                    <!-- Audio Logs -->
                    <div class="accordion">
                        <i class="fas fa-comment-dots" aria-hidden="true"></i>
                        <span style="margin-left: 5px;">Audio Logs</span>
                        <div class="accordion-icon">
                            <i class="fa fa-times" aria-hidden="true"></i>
                        </div>
                    </div>
                    <div class="accordion-inner">
                        <p>
                            <iframe src="uploads/ConnorWall_Portfolio/Game_Design/Roboleon/Narrative/AudioLogs.pdf"
                                    width="100%" height="600px"></iframe>
                        </p>
                    </div>
                </div>

                <br>

                <h2>More Info</h2>
                <!--Technical Design-->
                <div class="accordion">
                    <i class="fa fa-info" aria-hidden="true"></i>
                    <span style="margin-left: 5px;">Full Team Technical Design Document</span>
                    <div class="accordion-icon">
                        <i class="fa fa-times" aria-hidden="true"></i>
                    </div>
                </div>
                <div class="accordion-inner">
                    <p>
                        <iframe src="uploads/ConnorWall_Portfolio/Game_Design/Roboleon/Technical%20Design%20Document.pdf"
                                width="100%" height="600px;"></iframe>
                    </p>
                </div>

                <!--Executive Summary-->
                <div class="accordion">
                    <i class="fa fa-book" aria-hidden="true"></i>
                    <span style="margin-left: 5px;">Executive Summary</span>
                    <div class="accordion-icon">
                        <i class="fa fa-times" aria-hidden="true"></i>
                    </div>
                </div>
                <div class="accordion-inner">
                    <p>
                        <iframe src="uploads/ConnorWall_Portfolio/Game_Design/Roboleon/Executive%20Summary.pdf"
                                width="100%" height="600px"></iframe>
                    </p>
                </div>
                <!--
                <div class="accordion">
                    <i class="fa fa-shield" aria-hidden="true"></i>
                    <span style="margin-left: 5px;">Combat System (melee, ranged, shielded)</span>
                    <div class="accordion-icon">
                        <i class="fa fa-times" aria-hidden="true"></i>
                    </div>
                </div>
                <div class="accordion-inner">

                    <p>Bolt Storm features both ranged (gun, crossbow) and melee (sword, knife) combat. To allow
                        for these different types of weapons, I set up a system which can map bones ('sockets')
                        of characters to a specific slot, so that weapons can be used on different skeletons.
                        The slot definitions, weapons themselves, and even the local binding have local offsets,
                        to fine-tune the position in every case.</p>

                    <div style="text-align: left; margin-bottom: 10px;">
                        <video autoplay muted loop style="	max-width: 100%; max-height: 100%;">
                            <source src="http://hugo.fyi/assets/projects/378/BoltStorm-Combat1.mp4"
                                    type="video/mp4"/>
                        </video>
                    </div>
                    <div style="text-align: left; margin-bottom: 10px;">
                        <video autoplay muted loop style="	max-width: 100%; max-height: 100%;">
                            <source src="http://hugo.fyi/assets/projects/379/bs-combat-3.mp4" type="video/mp4"/>
                        </video>
                    </div>
                    <h2>Custom 'melee' collision checking</h2>

                    <p>
                    <p>Swords swing pretty fast, meaning the default collision checking wasn't optimal in our
                        case. We also wanted collision checking 'LODs', in other words; being able to have less
                        precise collision checking in cases where precision doesn't really matter.
                    </p>
                    <p>In the case of Bolt Storm, there can be armies of knights fighting, so collision hits can
                        be guessed, instead of checked very precisely.
                        For 1-on-1 combat, I implemented collision checking by having a set of boxes on the
                        weapon which define what is collidable, then each frame the previous position of each
                        box is traced against the current position of that box.</p>
                    <p>Visually, that looks like this:</p>
                    <p><img src="http://i.imgur.com/TY8eHYA.gif" alt="TY8eHYA.gif"
                            style="vertical-align:middle;height:auto;"/></p></p>


                    <div class="accordion">
                        <i class="fa fa-code" aria-hidden="true"></i>
                        <span style="margin-left: 5px;">CODE SNIPPET - Melee collision checking</span>
                        <div class="accordion-icon">
                            <i class="fa fa-times" aria-hidden="true"></i>
                        </div>
                    </div>
                    <div class="accordion-inner">

                                                                     <pre class="prettyprint linenums">TArray&lt;FHitResult&gt; FBsWpCollisionPreciseBox::UpdateCollision(AActor* aActor)
    {
    UWorld* tWorld = aActor->GetWorld();

    TArray&lt;FHitResult&gt; tOutResult;

    for (int i = 0; i < mCachedComps.Num(); i++)
    {
        const UBoxComponent* tComp = mCachedComps[i];

        FTransform& tPrevTransform = mCachedTransforms[i];
        FTransform tCurTransform = tComp->GetComponentToWorld();

        FVector BoxExt = tComp->GetScaledBoxExtent();

        TArray&lt;FHitResult&gt; tThisOutResult;
        FCollisionQueryParams tQueryParams = FCollisionQueryParams::DefaultQueryParam;
        FCollisionResponseParams tResponseParams = FCollisionResponseParams::DefaultResponseParam;
        FCollisionObjectQueryParams tObjectQueryParams = FCollisionObjectQueryParams::AllObjects;

        /* Add the weapon */
        tQueryParams.AddIgnoredActor(tComp->GetOwner());
        /* Add the weapon's owner (character) */
        tQueryParams.AddIgnoredActor(tComp->GetOwner()->GetOwner());

        if (tWorld->SweepMultiByObjectType(tThisOutResult,
            tPrevTransform.GetTranslation(), tCurTransform.GetTranslation(), tPrevTransform.GetRotation(),
            tObjectQueryParams, FCollisionShape::MakeBox(BoxExt / 2.f), tQueryParams))
        {
            tOutResult.Append(tThisOutResult);
        }

        mCachedTransforms[i] = tCurTransform;
    }

    return tOutResult;
    }</pre>


                    </div>

                    <h2>State Machine &amp; Combat System in action</h2>

                    <p>
                    <p>The following demonstrates the character logic and the combat system in action, notice
                        how the character rotation locks while he swings the sword, and waits until the attack
                        is over before rotating back.</p></p>

                    <div style="text-align: left; margin-bottom: 10px;">
                        <video autoplay muted loop style="	max-width: 100%; max-height: 100%;">
                            <source src="http://hugo.fyi/assets/projects/395/boltstorm_1_ffmpeg2.mp4"
                                    type="video/mp4"/>
                        </video>
                    </div>


                </div>
                <div class="accordion">
                    <i class="fa fa-cubes" aria-hidden="true"></i>
                    <span style="margin-left: 5px;">Ranged Combat &amp; Projectile Batching</span>
                    <div class="accordion-icon">
                        <i class="fa fa-times" aria-hidden="true"></i>
                    </div>
                </div>
                <div class="accordion-inner">

                    <p>I implemented a system that allows us to have many (<em>many</em>) projectiles on the
                        screen at the same time. It works like this</p>

                    <p>
                    <ul>
                        <li>When a projectile is fired, submit the data to a global actor which manages them
                        </li>
                        <li>In the actor, check if an Instanced Static Mesh Component (ISM component) exists for
                            the mesh of the projectile
                            <ul>
                                <li> If not, create two new components:
                                    <ul>
                                        <li>One will be used for while the projectile is moving, constantly
                                            updating the mesh from the CPU
                                        </li>
                                        <li>The other will be used exclusively for static projectiles (laying
                                            still on the ground)
                                        </li>
                                    </ul>
                                </li>
                            </ul>
                        </li>
                        <li>Create a physics body for the projectile (derived of Primitive Component, not an
                            actor), but do not use it for now, just keep setting the velocity from the next
                            step:
                        </li>
                        <li>Initialize custom physics code (used to calculate projectile arcs for AI)</li>
                        <li>Submit an instance to the "moving" ISM component</li>
                        <li>&lt; update the projectile &amp; custom physics &gt;</li>
                        <li>When it touches an object, the physics body is put to use, from now on the
                            projectile won't cause a "hit" if it touches a character
                        </li>
                        <li>The physics body causes the projectile to fall down / slide in a natural way</li>
                        <li>When the projectile has come to a stop, its physics body is destroyed, and the
                            instance is moved from the "moving" ISM component to the "static" ISM component
                        </li>
                        <li>After a while it's also removed from this component, completely destroying the
                            projectile
                        </li>
                    </ul>
                    <p>This approach has allowed us to have as many as 27,000 moving projectiles on the screen
                        simulatenously, and over 230,000 static projectiles. With actors, this number was far
                        below 1,000 (test situation: a pretty much empty scene in UE4 on a desktop with a
                        GTX 770, i7 4770k)</p></p>

                    <div style="text-align: left; margin-bottom: 10px;">
                        <video autoplay muted loop style="	max-width: 100%; max-height: 100%;">
                            <source src="http://hugo.fyi/assets/projects/388/boltstorm_2_ffmpeg2.mp4"
                                    type="video/mp4"/>
                        </video>
                    </div>
                    <p>Projectiles can be spawned in "bursts", each burst can have a root offset, and a local
                        offset per projectile, allowing for shapes of projectiles:</p>

                    <p>
                    <p><img src="http://i.imgur.com/jpv0zxN.gif" alt="jpv0zxN.gif"
                            style="vertical-align:middle;height:auto;"/></p>
                    <p><img src="http://i.imgur.com/2R6iG4t.gif" alt="2R6iG4t.gif"
                            style="vertical-align:middle;height:auto;"/></p></p>


                </div>
                <div class="accordion">
                    <i class="fa fa-desktop" aria-hidden="true"></i>
                    <span style="margin-left: 5px;">User Interface implementation</span>
                    <div class="accordion-icon">
                        <i class="fa fa-times" aria-hidden="true"></i>
                    </div>
                </div>
                <div class="accordion-inner">

                    <p>I designed and developed some UI elements for Bolt Storm, for example, a widget that
                        slides open to reveal information about an item that you can buy (swords, crossbows,
                        etc). It compares your currently-equipped item with the one you're able to buy.</p>

                    <div style="text-align: left; margin-bottom: 10px;">
                        <video autoplay muted loop style="	max-width: 100%; max-height: 100%;">
                            <source src="http://hugo.fyi/assets/projects/404/BS-Shop-UI.mp4" type="video/mp4"/>
                        </video>
                    </div>
                    <p>Furthermore I re-used this design to make a small "context popup" which informs the user
                        about necessary information during gameplay, like a message that tells the player to
                        defeat more enemies before being able to exit the level:</p>

                    <div style="text-align: left; margin-bottom: 10px;">
                        <video autoplay muted loop style="	max-width: 100%; max-height: 100%;">
                            <source src="uploads/ConnorWall_Portfolio//projects/406/ContextFeedback.mp4"
                                    type="video/mp4"/>
                        </video>
                    </div>


                </div>
                <div class="accordion">
                    <i class="fa fa-paint-brush" aria-hidden="true"></i>
                    <span style="margin-left: 5px;">Formation Selection Shader</span>
                    <div class="accordion-icon">
                        <i class="fa fa-times" aria-hidden="true"></i>
                    </div>
                </div>
                <div class="accordion-inner">

                    <p>In Bolt Storm you can command your army to attack a certain group of enemies. I wrote
                        a shader consisting of two passes (a pre-tonemap and post-tonemap pass) to visualize the
                        selection. <em>Note: this is still a work in progress!</em></p>

                    <p>
                    <p><img src="http://hugo.fyi/assets/6uzRMGh.jpg" alt="6uzRMGh.jpg#asset:247"
                            style="vertical-align:middle;height:auto;"/></p>
                    <h3>How it works</h3>
                    <p>Let's take this shot for example:</p>
                    <p><img src="http://i.imgur.com/zHALbLK.jpg" alt="zHALbLK.jpg"
                            style="vertical-align:middle;height:auto;"/></p>
                    <p>All character meshes, the weapon meshes and the icons are rendered to the custom depth
                        and stencil buffers:</p>
                    <p><img src="http://i.imgur.com/yn8WfHM.png" alt="yn8WfHM.png"
                            style="vertical-align:middle;height:auto;"/></p>
                    <p>At the moment, the stencil values are a hardcoded "enum" value, but this will most likely
                        change to a bit mask.</p>
                    <p>Next the pre-tonemap shader is applied, coloring the areas defined by the stencil
                        values:</p>
                    <p><img src="http://i.imgur.com/F5jHWfU.jpg" alt="F5jHWfU.jpg"
                            style="vertical-align:middle;height:auto;"/></p>
                    <p>Then the post-tonemap shader is applied to the screen, except for the stencil values:</p>
                    <p><img src="http://i.imgur.com/mNk0PA0.png" alt="mNk0PA0.png"
                            style="vertical-align:middle;height:auto;"/></p>
                    <p>(The screenshot above is without the pre-tonemap shader applied).</p>
                    <p>The combined result:</p>
                    <p><img src="http://i.imgur.com/E4WrEgg.png" alt="E4WrEgg.png"
                            style="vertical-align:middle;height:auto;"/></p>
                    <p>At the moment the shaders identify the objects by a number of if-statements, this will
                        soon be optimized by making the stencil values a bitmask.</p>
                    <p>The pre-tonemap shader fills a color on an area marked with specific stencil values
                        (first desaturates it to prevent lighting influence), and then applies a Fresnel on top
                        of that (where every one of the colored squares is a section for one specific
                        object):</p>
                    <p><img src="http://i.imgur.com/4nFSDCn.png" alt="4nFSDCn.png"
                            style="vertical-align:middle;height:auto;"/></p>
                    <p>The post-tonemap shader first determines if the stencil value is targeted to an object,
                        if not it desaturates the fragment - applies a blur and blends color based on the
                        scene depth as well as different blend colors. It looks like this:</p>
                    <p><img src="http://i.imgur.com/tfcrX6R.png" alt="tfcrX6R.png"
                            style="vertical-align:middle;height:auto;"/></p></p>


                </div>
                -->
            </div>
        </section>


    </div>


    <!-- Footer -->
    <footer id="footer">
        <div class="inner">
            <header class="major">
                <h1>Get in Touch</h1>
            </header>
            <ul class="actions" style="flex-direction: row; flex-wrap: wrap">
                <li>
                    <a href="CV.html" class="button icon solid fa-clipboard-list">
										<span style="color: #B664B0; background-image: linear-gradient(135deg, #6699FF 0%, #FF3366 100%);
										 -webkit-background-clip: text; -webkit-text-fill-color:transparent; -webkit-box-decoration-break: clone;
										background-repeat: no-repeat;">CV<span class="label"></span>
										</span>
                    </a>
                </li>
                <li>
                    <a href="https://github.com/connortwall" class="button icon solid brands fa-github">
										<span style="color: #B664B0; background-image: linear-gradient(135deg, #6699FF 0%, #F7AEF8 100%);
										 -webkit-background-clip: text; -webkit-text-fill-color: transparent; -webkit-box-decoration-break: clone;
										background-repeat: no-repeat;">Github<span class="label"></span>
										</span>
                    </a>
                </li>
                <li>
                    <a href="https://www.linkedin.com/in/connortwall/" class="button icon solid brands fa-linkedin-in">
										<span style="color: #B664B0; ">
											<span style="background-image: linear-gradient(135deg, #6699FF 0%, #F7AEF8 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; -webkit-box-decoration-break: clone; background-repeat: no-repeat;">LinkedIn<span
                                                    class="label"></span>
											</span>
										</span>
                    </a>
                </li>
                <li>
                    <a href="https://connorthewall.itch.io" class="button icon solid fa-gamepad">
										<span style="color: #B664B0; ">
											<span style="background-image: linear-gradient(135deg, #6699FF 0%, #F7AEF8 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; -webkit-box-decoration-break: clone; background-repeat: no-repeat;">Itch.io<span
                                                    class="label"></span>
											</span>
										</span>
                    </a>
                </li>
            </ul>
            <ul class="copyright">
                <li>&copy; <i>Website coded and designed </i> by Connor Wall</li>
            </ul>
        </div>
    </footer>
</div>

<!-- Scripts -->
<script src="assets/js/jquery.min.js"></script>
<script src="assets/js/jquery.scrolly.min.js"></script>
<script src="assets/js/jquery.scrollex.min.js"></script>
<script src="assets/js/browser.min.js"></script>
<script src="assets/js/breakpoints.min.js"></script>
<script src="assets/js/util.js"></script>
<script src="assets/js/main.js"></script>
</body>
</html>
